= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f|
  = render "devise/shared/error_messages", resource: resource
  .ml-4.px-4.sm:ml-32.sm:max-w-3xl
    .flex.sm:flex-row.items-center.sm:items-start.sm:space-x-4
      - profile_image = current_user.profile_image.attached? ? url_for(current_user.profile_image) : image_path("default_user.png")
      %img{ src: profile_image, class: "w-48 h-48 rounded-full border shadow-sm object-cover" }
      .relative.flex.flex-col
        .flex.space-x-4
          .relative.flex.flex-col
            = f.label :name_surname, t("views.profile.name_surname"), class: "block text-sm font-medium text-gray-700 mb-2"
            .relative.flex.items-center
              = f.input :name_surname, required: true, label: false, input_html: { class: "w-full pr-10 border-gray-300 rounded-md shadow-sm focus:ring-gray-300 focus:border-gray-300 bg-gray-300 focus:bg-gray-200" }
              %i.fas.fa-pencil-alt{ class: "absolute right-3 text-gray-500" }
          .relative.flex.flex-col
            = f.label :date_of_birth, t("views.profile.date_of_birth"), class: "block text-sm font-medium text-gray-700 mb-2"
            .relative.flex.items-center
              = f.input :date_of_birth, required: true, label: false, html5: true, input_html: { class: "w-full border-gray-300 rounded-md shadow-sm focus:ring-gray-300 focus:border-gray-300 bg-gray-300 focus:bg-gray-200" }

        .flex.space-x-4.mt-4
          .relative.flex.flex-col
            = f.label :email, t("views.profile.email"), class: "block text-sm font-medium text-gray-700 mb-2"
            .relative.flex.items-center
              = f.input :email, required: true, label: false, input_html: { class: "w-full pr-10 border-gray-300 rounded-md shadow-sm focus:ring-gray-300 focus:border-gray-300 bg-gray-300 focus:bg-gray-200" }
              %i.fas.fa-envelope{ class: "absolute right-3 text-gray-500" }
          .relative.flex.flex-col
            = f.label :gsm, t("views.profile.gsm"), class: "block text-sm font-medium text-gray-700 mb-2"
            .relative.flex.items-center
              = f.input :gsm, required: true, label: false, input_html: { class: "w-full border-gray-300 rounded-md shadow-sm focus:ring-gray-300 focus:border-gray-300 bg-gray-300 focus:bg-gray-200" }
              %i.fas.fa-phone-alt{ class: "absolute right-3 text-gray-500" }

        .relative.mt-4
          = f.label :profile_image, t("views.profile.profile_image"), class: "block text-sm font-medium text-gray-700 mb-2"
          .flex.items-center
            - if current_user.profile_image.attached?
              %button{ type: "button", class: "mr-2 bg-red-600 text-white py-1.5 px-4 rounded-md hover:bg-red-700 transition-all text-center" }
                %i.fas.fa-trash-alt
            .custom-file-input
              = f.input :profile_image, as: :file, label: false, input_html: { accept: 'image/jpeg,image/png,image/jpg', class: "hidden", id: "profile_image_input" }
              %label{ for: "profile_image_input", class: "cursor-pointer bg-blue-600 text-white rounded-md py-2 px-4 hover:bg-blue-700 transition-all text-center w-full" }
                %i.fas.fa-upload

        
    .border-t.border-gray-300.mt-6.pt-4.flex.space-x-4
      .relative.flex.flex-col
        = f.label :password, t("views.profile.password"), class: "block text-sm font-medium text-gray-700 mb-2"
        .relative.flex.items-center
          = f.input :password, label: false, input_html: { class: "w-full pr-10 border-gray-300 rounded-md shadow-sm focus:ring-gray-300 focus:border-gray-300 bg-gray-300 focus:bg-gray-200" }

      .relative.flex.flex-col
        = f.label :password_confirmation, t("views.profile.password_confirmation"), class: "block text-sm font-medium text-gray-700 mb-2"
        .relative.flex.items-center
          = f.input :password_confirmation, label: false, input_html: { class: "w-full pr-10 border-gray-300 rounded-md shadow-sm focus:ring-gray-300 focus:border-gray-300 bg-gray-300 focus:bg-gray-200" }

      .relative.flex.flex-col
        = f.label :current_password, t("views.profile.current_password"), class: "block text-sm font-medium text-gray-700 mb-2"
        .relative.flex.items-center
          = f.input :current_password, required: true, label: false, input_html: { class: "w-full pr-10 border-gray-300 rounded-md shadow-sm focus:ring-gray-300 focus:border-gray-300 bg-gray-300 focus:bg-gray-200" }

    .mt-6.flex
      .ml-auto
        = f.button :submit, t("views.profile.update"), class: "w-full sm:w-auto bg-blue-600 text-white rounded-md py-2 px-4 hover:bg-blue-700 transition-all text-center"
